{"ast":null,"code":"import _classCallCheck from \"/Users/andrecampbell/Desktop/MaxBone/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/andrecampbell/Desktop/MaxBone/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/andrecampbell/Desktop/MaxBone/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/andrecampbell/Desktop/MaxBone/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/andrecampbell/Desktop/MaxBone/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/andrecampbell/Desktop/MaxBone/client/src/components/StylistPage/MessageList.js\";\nimport React from 'react';\nimport $ from 'jquery';\n\nvar MessageList =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(MessageList, _React$Component);\n\n  function MessageList(props) {\n    var _this;\n\n    _classCallCheck(this, MessageList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MessageList).call(this, props)); // Don't call this.setState() here!\n\n    _this.componentDidUpdate = function (prevProps) {\n      if (prevProps.messages.length !== _this.props.messages.length) {\n        console.log('component did update');\n\n        _this.setState({\n          messages: _this.props.messages\n        }, function () {\n          console.log(_this.state.messages);\n\n          _this.renderMessages();\n        });\n      }\n    };\n\n    _this.renderMessages = function () {\n      $('#message-list').empty();\n\n      for (var i = 0; i < _this.state.messages.length; i++) {\n        var userMessage = $('<p>');\n        var emailDiv = $('<div>');\n        var messageDiv = $('<div>');\n        messageDiv.text(_this.state.messages[i].message);\n\n        if (!_this.state.messages[i].user) {\n          emailDiv.text('Your Stylist');\n          userMessage.attr('id', 'stylistText');\n        } else if (_this.state.messages[i].user) {\n          emailDiv.text(_this.state.messages[i].email);\n          userMessage.attr('id', 'userText');\n        }\n\n        userMessage.addClass('col-md-12');\n        userMessage.append(messageDiv);\n        userMessage.append(emailDiv);\n        $('#message-list').append(userMessage);\n      }\n    };\n\n    _this.state = {\n      messages: []\n    };\n    return _this;\n  }\n\n  _createClass(MessageList, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.renderMessages();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        id: \"message-list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return MessageList;\n}(React.Component);\n\nexport default MessageList;","map":{"version":3,"sources":["/Users/andrecampbell/Desktop/MaxBone/client/src/components/StylistPage/MessageList.js"],"names":["React","$","MessageList","props","componentDidUpdate","prevProps","messages","length","console","log","setState","state","renderMessages","empty","i","userMessage","emailDiv","messageDiv","text","message","user","attr","email","addClass","append","Component"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,CAAP,MAAc,QAAd;;IAEMC,W;;;;;AAEF,uBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,qFAAMA,KAAN,GADe,CAEf;;AAFe,UAUnBC,kBAVmB,GAUE,UAACC,SAAD,EAAe;AAChC,UAAIA,SAAS,CAACC,QAAV,CAAmBC,MAAnB,KAA8B,MAAKJ,KAAL,CAAWG,QAAX,CAAoBC,MAAtD,EAA8D;AAC1DC,QAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ;;AACA,cAAKC,QAAL,CAAc;AAAEJ,UAAAA,QAAQ,EAAE,MAAKH,KAAL,CAAWG;AAAvB,SAAd,EACI,YAAM;AACFE,UAAAA,OAAO,CAACC,GAAR,CAAY,MAAKE,KAAL,CAAWL,QAAvB;;AACA,gBAAKM,cAAL;AACH,SAJL;AAKH;AACJ,KAnBkB;;AAAA,UAsBnBA,cAtBmB,GAsBF,YAAM;AACnBX,MAAAA,CAAC,CAAC,eAAD,CAAD,CAAmBY,KAAnB;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,MAAKH,KAAL,CAAWL,QAAX,CAAoBC,MAAxC,EAAgDO,CAAC,EAAjD,EAAqD;AAEjD,YAAIC,WAAW,GAAGd,CAAC,CAAC,KAAD,CAAnB;AACA,YAAIe,QAAQ,GAAGf,CAAC,CAAC,OAAD,CAAhB;AACA,YAAIgB,UAAU,GAAGhB,CAAC,CAAC,OAAD,CAAlB;AAEAgB,QAAAA,UAAU,CAACC,IAAX,CAAgB,MAAKP,KAAL,CAAWL,QAAX,CAAoBQ,CAApB,EAAuBK,OAAvC;;AAIA,YAAI,CAAC,MAAKR,KAAL,CAAWL,QAAX,CAAoBQ,CAApB,EAAuBM,IAA5B,EAAkC;AAC9BJ,UAAAA,QAAQ,CAACE,IAAT,CAAc,cAAd;AACAH,UAAAA,WAAW,CAACM,IAAZ,CAAiB,IAAjB,EAAuB,aAAvB;AACH,SAHD,MAGO,IAAI,MAAKV,KAAL,CAAWL,QAAX,CAAoBQ,CAApB,EAAuBM,IAA3B,EAAiC;AACpCJ,UAAAA,QAAQ,CAACE,IAAT,CAAc,MAAKP,KAAL,CAAWL,QAAX,CAAoBQ,CAApB,EAAuBQ,KAArC;AACAP,UAAAA,WAAW,CAACM,IAAZ,CAAiB,IAAjB,EAAuB,UAAvB;AACH;;AACDN,QAAAA,WAAW,CAACQ,QAAZ,CAAqB,WAArB;AACAR,QAAAA,WAAW,CAACS,MAAZ,CAAmBP,UAAnB;AACAF,QAAAA,WAAW,CAACS,MAAZ,CAAmBR,QAAnB;AAGAf,QAAAA,CAAC,CAAC,eAAD,CAAD,CAAmBuB,MAAnB,CAA0BT,WAA1B;AAEH;AACJ,KAjDkB;;AAGf,UAAKJ,KAAL,GAAa;AAAEL,MAAAA,QAAQ,EAAE;AAAZ,KAAb;AAHe;AAIlB;;;;wCAEmB;AAChB,WAAKM,cAAL;AACH;;;6BA0CQ;AACL,aACI;AAAK,QAAA,EAAE,EAAC,cAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ;AAGH;;;;EAxDqBZ,KAAK,CAACyB,S;;AA0DhC,eAAevB,WAAf","sourcesContent":["import React from 'react';\nimport $ from 'jquery';\n\nclass MessageList extends React.Component {\n\n    constructor(props) {\n        super(props);\n        // Don't call this.setState() here!\n        this.state = { messages: [] };\n    }\n\n    componentDidMount() {\n        this.renderMessages();\n    }\n\n    componentDidUpdate = (prevProps) => {\n        if (prevProps.messages.length !== this.props.messages.length) {\n            console.log('component did update')\n            this.setState({ messages: this.props.messages },\n                () => {\n                    console.log(this.state.messages)\n                    this.renderMessages();\n                })\n        }\n    }\n\n\n    renderMessages = () => {\n        $('#message-list').empty();\n        for (let i = 0; i < this.state.messages.length; i++) {\n\n            let userMessage = $('<p>');\n            let emailDiv = $('<div>');\n            let messageDiv = $('<div>');\n           \n            messageDiv.text(this.state.messages[i].message);\n\n           \n\n            if (!this.state.messages[i].user) {\n                emailDiv.text('Your Stylist');\n                userMessage.attr('id', 'stylistText');\n            } else if (this.state.messages[i].user) {\n                emailDiv.text(this.state.messages[i].email);\n                userMessage.attr('id', 'userText');\n            }\n            userMessage.addClass('col-md-12');\n            userMessage.append(messageDiv);\n            userMessage.append(emailDiv);\n\n\n            $('#message-list').append(userMessage);\n\n        }\n    }\n    render() {\n        return (\n            <div id='message-list' ></div>\n        )\n    }\n}\nexport default MessageList;"]},"metadata":{},"sourceType":"module"}