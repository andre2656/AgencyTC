{"ast":null,"code":"import _classCallCheck from \"/Users/andrecampbell/Desktop/MaxBone/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/andrecampbell/Desktop/MaxBone/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/andrecampbell/Desktop/MaxBone/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/andrecampbell/Desktop/MaxBone/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/andrecampbell/Desktop/MaxBone/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/andrecampbell/Desktop/MaxBone/client/src/components/StylistPage/SendMessageForm.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport MessageList from './MessageList';\n\nvar SendMessageFrom =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SendMessageFrom, _React$Component);\n\n  function SendMessageFrom(props) {\n    var _this;\n\n    _classCallCheck(this, SendMessageFrom);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SendMessageFrom).call(this, props)); // Don't call this.setState() here!\n\n    _this.messageChanged = function (event) {\n      _this.setState({\n        message: event.target.value\n      });\n    };\n\n    _this.submitClicked = function () {\n      _this.sendMessage();\n\n      _this.setState({\n        message: ''\n      });\n    };\n\n    _this.componentDidUpdate = function (prevProps) {\n      if (prevProps.email !== _this.props.email) {\n        _this.setState({\n          email: _this.props.email\n        }, function () {\n          console.log(_this.state.email);\n\n          _this.getMessages();\n        });\n      }\n    };\n\n    _this.sendMessage = function () {\n      console.log('send messgae');\n      axios.post('/api/chat/send', {\n        email: _this.state.email,\n        message: _this.state.message,\n        user: _this.state.user\n      }).then(function (response) {\n        _this.setState({\n          messages: response.data\n        });\n\n        _this.setState({\n          message: ''\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.getMessages = function () {\n      axios.get('/api/chat/receive/', {\n        params: {\n          email: _this.state.email\n        }\n      }).then(function (response) {\n        _this.setState({\n          messages: response.data\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.state = {\n      email: '',\n      user: false,\n      message: '',\n      messages: []\n    };\n    return _this;\n  }\n\n  _createClass(SendMessageFrom, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        style: {\n          marginLeft: '20%',\n          width: '80%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(MessageList, {\n        messages: this.state.messages,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"row col-md-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"textarea\", {\n        id: \"chatInput\",\n        style: {\n          width: '80%',\n          height: '100px'\n        },\n        type: \"text\",\n        onChange: this.messageChanged,\n        value: this.state.message,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }), React.createElement(\"a\", {\n        onClick: this.submitClicked,\n        type: \"submit\",\n        className: \"\",\n        style: {\n          width: '0px',\n          height: '0px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        id: \"chatSubmit\",\n        style: {\n          backgroundImage: 'url(images/sendButton.jpg)',\n          backgroundSize: '40px 40px',\n          backgroundPosition: 'center center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return SendMessageFrom;\n}(React.Component);\n\nexport default SendMessageFrom;","map":{"version":3,"sources":["/Users/andrecampbell/Desktop/MaxBone/client/src/components/StylistPage/SendMessageForm.js"],"names":["React","axios","MessageList","SendMessageFrom","props","messageChanged","event","setState","message","target","value","submitClicked","sendMessage","componentDidUpdate","prevProps","email","console","log","state","getMessages","post","user","then","response","messages","data","catch","error","get","params","marginLeft","width","height","backgroundImage","backgroundSize","backgroundPosition","Component"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,eAAxB;;IAEMC,e;;;;;AACF,2BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,yFAAMA,KAAN,GADe,CAEf;;AAFe,UAWnBC,cAXmB,GAWF,UAACC,KAAD,EAAW;AACxB,YAAKC,QAAL,CAAc;AAAEC,QAAAA,OAAO,EAAEF,KAAK,CAACG,MAAN,CAAaC;AAAxB,OAAd;AACH,KAbkB;;AAAA,UAenBC,aAfmB,GAeH,YAAM;AAClB,YAAKC,WAAL;;AACA,YAAKL,QAAL,CAAc;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAAd;AACH,KAlBkB;;AAAA,UAmBnBK,kBAnBmB,GAmBE,UAACC,SAAD,EAAe;AAChC,UAAIA,SAAS,CAACC,KAAV,KAAoB,MAAKX,KAAL,CAAWW,KAAnC,EAA0C;AACtC,cAAKR,QAAL,CAAc;AAAEQ,UAAAA,KAAK,EAAE,MAAKX,KAAL,CAAWW;AAApB,SAAd,EACI,YAAM;AACFC,UAAAA,OAAO,CAACC,GAAR,CAAY,MAAKC,KAAL,CAAWH,KAAvB;;AACA,gBAAKI,WAAL;AACH,SAJL;AAKH;AACJ,KA3BkB;;AAAA,UA6BnBP,WA7BmB,GA6BL,YAAM;AAChBI,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACAhB,MAAAA,KAAK,CAACmB,IAAN,CAAW,gBAAX,EAA6B;AACzBL,QAAAA,KAAK,EAAE,MAAKG,KAAL,CAAWH,KADO;AAEzBP,QAAAA,OAAO,EAAE,MAAKU,KAAL,CAAWV,OAFK;AAGzBa,QAAAA,IAAI,EAAE,MAAKH,KAAL,CAAWG;AAHQ,OAA7B,EAIGC,IAJH,CAIQ,UAACC,QAAD,EAAc;AAClB,cAAKhB,QAAL,CAAc;AAAEiB,UAAAA,QAAQ,EAAED,QAAQ,CAACE;AAArB,SAAd;;AACA,cAAKlB,QAAL,CAAc;AAAEC,UAAAA,OAAO,EAAE;AAAX,SAAd;AACH,OAPD,EAQKkB,KARL,CAQW,UAAUC,KAAV,EAAiB;AACpBX,QAAAA,OAAO,CAACC,GAAR,CAAYU,KAAZ;AACH,OAVL;AAWH,KA1CkB;;AAAA,UA4CnBR,WA5CmB,GA4CL,YAAM;AAChBlB,MAAAA,KAAK,CAAC2B,GAAN,CAAU,oBAAV,EAAgC;AAC5BC,QAAAA,MAAM,EAAE;AACJd,UAAAA,KAAK,EAAE,MAAKG,KAAL,CAAWH;AADd;AADoB,OAAhC,EAIGO,IAJH,CAIQ,UAACC,QAAD,EAAc;AAClB,cAAKhB,QAAL,CAAc;AAAEiB,UAAAA,QAAQ,EAAED,QAAQ,CAACE;AAArB,SAAd;AACH,OAND,EAMGC,KANH,CAMS,UAAUC,KAAV,EAAiB;AACtBX,QAAAA,OAAO,CAACC,GAAR,CAAYU,KAAZ;AACH,OARD;AASH,KAtDkB;;AAGf,UAAKT,KAAL,GAAa;AACTH,MAAAA,KAAK,EAAE,EADE;AAETM,MAAAA,IAAI,EAAE,KAFG;AAGTb,MAAAA,OAAO,EAAE,EAHA;AAITgB,MAAAA,QAAQ,EAAE;AAJD,KAAb;AAHe;AASlB;;;;6BA8CQ;AACL,aACI;AAAK,QAAA,KAAK,EAAG;AAAEM,UAAAA,UAAU,EAAE,KAAd;AAAqBC,UAAAA,KAAK,EAAE;AAA5B,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,WAAD;AAAa,QAAA,QAAQ,EAAE,KAAKb,KAAL,CAAWM,QAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAU,QAAA,EAAE,EAAC,WAAb;AAAyB,QAAA,KAAK,EAAE;AAAEO,UAAAA,KAAK,EAAE,KAAT;AAAgBC,UAAAA,MAAM,EAAE;AAAxB,SAAhC;AAAmE,QAAA,IAAI,EAAC,MAAxE;AAA+E,QAAA,QAAQ,EAAE,KAAK3B,cAA9F;AAA8G,QAAA,KAAK,EAAE,KAAKa,KAAL,CAAWV,OAAhI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI;AAAG,QAAA,OAAO,EAAE,KAAKG,aAAjB;AAAgC,QAAA,IAAI,EAAC,QAArC;AAA8C,QAAA,SAAS,EAAC,EAAxD;AAA2D,QAAA,KAAK,EAAE;AAAEoB,UAAAA,KAAK,EAAE,KAAT;AAAgBC,UAAAA,MAAM,EAAE;AAAxB,SAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAkG;AAAO,QAAA,EAAE,EAAC,YAAV;AAAuB,QAAA,KAAK,EAAE;AAAEC,UAAAA,eAAe,EAAE,4BAAnB;AAAiDC,UAAAA,cAAc,EAAE,WAAjE;AAA8EC,UAAAA,kBAAkB,EAAE;AAAlG,SAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAlG,CAFJ,CAFJ,CADJ;AASH;;;;EAlEyBnC,KAAK,CAACoC,S;;AAoEpC,eAAejC,eAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport MessageList from './MessageList';\n\nclass SendMessageFrom extends React.Component {\n    constructor(props) {\n        super(props);\n        // Don't call this.setState() here!\n        this.state = {\n            email: '',\n            user: false,\n            message: '',\n            messages: []\n        };\n    }\n\n    messageChanged = (event) => {\n        this.setState({ message: event.target.value });\n    }\n\n    submitClicked = () => {\n        this.sendMessage();\n        this.setState({ message: '' });\n    }\n    componentDidUpdate = (prevProps) => {\n        if (prevProps.email !== this.props.email) {\n            this.setState({ email: this.props.email },\n                () => {\n                    console.log(this.state.email)\n                    this.getMessages()\n                })\n        }\n    }\n\n    sendMessage = () => {\n        console.log('send messgae');\n        axios.post('/api/chat/send', {\n            email: this.state.email,\n            message: this.state.message,\n            user: this.state.user\n        }).then((response) => {\n            this.setState({ messages: response.data });\n            this.setState({ message: '' })\n        })\n            .catch(function (error) {\n                console.log(error);\n            });\n    }\n\n    getMessages = () => {\n        axios.get('/api/chat/receive/', {\n            params: {\n                email: this.state.email\n            }\n        }).then((response) => {\n            this.setState({ messages: response.data })\n        }).catch(function (error) {\n            console.log(error);\n        });\n    }\n    render() {\n        return (\n            <div style= {{ marginLeft: '20%', width: '80%' }}>\n                <MessageList messages={this.state.messages}/>\n                <div className='row col-md-12' >\n                    <textarea id='chatInput' style={{ width: '80%', height: '100px' }} type=\"text\" onChange={this.messageChanged} value={this.state.message} />\n                    <a onClick={this.submitClicked} type='submit' className=\"\" style={{ width: '0px', height: '0px'}}><label id='chatSubmit' style={{ backgroundImage: 'url(images/sendButton.jpg)', backgroundSize: '40px 40px', backgroundPosition: 'center center' }}></label></a>\n                </div>\n            </div>\n        )\n    }\n}\nexport default SendMessageFrom;"]},"metadata":{},"sourceType":"module"}